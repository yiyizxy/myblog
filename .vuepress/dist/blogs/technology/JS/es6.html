<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.12">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <title>ES6 | æ¬¢è¿ğŸ‘æ¥çœ‹æˆ‘çš„åšå®¢</title><meta name="description" content="a interesting blog">
    <link rel="preload" href="/myblog/assets/style-CEtTA07z.css" as="style"><link rel="stylesheet" href="/myblog/assets/style-CEtTA07z.css">
    <link rel="modulepreload" href="/myblog/assets/app-COjMlnxi.js"><link rel="modulepreload" href="/myblog/assets/es6.html-DPR0H2hd.js">
    <link rel="prefetch" href="/myblog/assets/timeline.html-DnOLvjoR.js" as="script"><link rel="prefetch" href="/myblog/assets/posts.html-BulZ81Ih.js" as="script"><link rel="prefetch" href="/myblog/assets/friendship-link.html-5xxtANmI.js" as="script"><link rel="prefetch" href="/myblog/assets/1.html-CbxMzEjX.js" as="script"><link rel="prefetch" href="/myblog/assets/1.html-DPht5SA4.js" as="script"><link rel="prefetch" href="/myblog/assets/2.html-AWmLbSSD.js" as="script"><link rel="prefetch" href="/myblog/assets/3.html-4vtSfbKW.js" as="script"><link rel="prefetch" href="/myblog/assets/1.html-De-2_e6n.js" as="script"><link rel="prefetch" href="/myblog/assets/2.html-CYf_pu3k.js" as="script"><link rel="prefetch" href="/myblog/assets/1.html-CPJddHkm.js" as="script"><link rel="prefetch" href="/myblog/assets/1.html-BbSZOcHu.js" as="script"><link rel="prefetch" href="/myblog/assets/1.html-DU-6IXjt.js" as="script"><link rel="prefetch" href="/myblog/assets/1.html-CLMB98a1.js" as="script"><link rel="prefetch" href="/myblog/assets/1.html-CYjfcA45.js" as="script"><link rel="prefetch" href="/myblog/assets/1.html-CPbk0PkX.js" as="script"><link rel="prefetch" href="/myblog/assets/2.html-CO4G2hWH.js" as="script"><link rel="prefetch" href="/myblog/assets/3.html-CBzxl5m6.js" as="script"><link rel="prefetch" href="/myblog/assets/1.html-BeKA_CGM.js" as="script"><link rel="prefetch" href="/myblog/assets/2.html-DQUOmghG.js" as="script"><link rel="prefetch" href="/myblog/assets/1.html-8IV5fNWg.js" as="script"><link rel="prefetch" href="/myblog/assets/1.html-Cmf26YZ_.js" as="script"><link rel="prefetch" href="/myblog/assets/1.html-DwJlP-jN.js" as="script"><link rel="prefetch" href="/myblog/assets/1.html-CBJpD6r7.js" as="script"><link rel="prefetch" href="/myblog/assets/2.html-kJxNgC1f.js" as="script"><link rel="prefetch" href="/myblog/assets/3.html-DzGMOBON.js" as="script"><link rel="prefetch" href="/myblog/assets/4.html-Cj1TNva5.js" as="script"><link rel="prefetch" href="/myblog/assets/5.html-3s2P1qaB.js" as="script"><link rel="prefetch" href="/myblog/assets/6.html-CRlOl5MG.js" as="script"><link rel="prefetch" href="/myblog/assets/index.html-C1EAiSbC.js" as="script"><link rel="prefetch" href="/myblog/assets/guide.html-BPvMOx7z.js" as="script"><link rel="prefetch" href="/myblog/assets/index.html-BIYu0mL6.js" as="script"><link rel="prefetch" href="/myblog/assets/api.html-BsGP-ATt.js" as="script"><link rel="prefetch" href="/myblog/assets/home.html-Vz-y-BSG.js" as="script"><link rel="prefetch" href="/myblog/assets/plugin.html-BWfnH6Ol.js" as="script"><link rel="prefetch" href="/myblog/assets/theme.html-wiW20mcq.js" as="script"><link rel="prefetch" href="/myblog/assets/flex.html-DJ3piG0F.js" as="script"><link rel="prefetch" href="/myblog/assets/less-vs-sass.html-mAM8tsuo.js" as="script"><link rel="prefetch" href="/myblog/assets/qita.html-CMhYWl_m.js" as="script"><link rel="prefetch" href="/myblog/assets/yidongduanshipei.html-CVwtNpC1.js" as="script"><link rel="prefetch" href="/myblog/assets/zhonghuiyuzhongpai.html-4mibqe2U.js" as="script"><link rel="prefetch" href="/myblog/assets/qita.html-CgvlrbUR.js" as="script"><link rel="prefetch" href="/myblog/assets/call-apply-bind.html-DmuUjw5X.js" as="script"><link rel="prefetch" href="/myblog/assets/class.html-BuiM94Kp.js" as="script"><link rel="prefetch" href="/myblog/assets/code.html-Cu9Sjzyc.js" as="script"><link rel="prefetch" href="/myblog/assets/domshijian.html-ByecBkcL.js" as="script"><link rel="prefetch" href="/myblog/assets/introduce.html-Bm_pJQho.js" as="script"><link rel="prefetch" href="/myblog/assets/resume.html-v7wR-SDM.js" as="script"><link rel="prefetch" href="/myblog/assets/this.html-rAEmgCye.js" as="script"><link rel="prefetch" href="/myblog/assets/todo.html-ptaQm5YZ.js" as="script"><link rel="prefetch" href="/myblog/assets/typescript.html-Ci0WGbBH.js" as="script"><link rel="prefetch" href="/myblog/assets/qita.html-GOmZJiiZ.js" as="script"><link rel="prefetch" href="/myblog/assets/chuangjianduixiangmoshi.html-BcBEdZ-g.js" as="script"><link rel="prefetch" href="/myblog/assets/yuanshengJavaScript DOMcaozuochangjianhuizong.html-BMqdeRB2.js" as="script"><link rel="prefetch" href="/myblog/assets/tupianlanjiazai.html-Cso34YTa.js" as="script"><link rel="prefetch" href="/myblog/assets/shuzuquzhong.html-s4qZuw5G.js" as="script"><link rel="prefetch" href="/myblog/assets/zhengzebiaodashi.html-CClsCbl9.js" as="script"><link rel="prefetch" href="/myblog/assets/shenkaobeivsqiankaobei.html-hsucbDDp.js" as="script"><link rel="prefetch" href="/myblog/assets/jicheng.html-xywZ17l5.js" as="script"><link rel="prefetch" href="/myblog/assets/shejimoshi.html-B46Gob6Z.js" as="script"><link rel="prefetch" href="/myblog/assets/fangdouhejieliu.html-DYC1tam-.js" as="script"><link rel="prefetch" href="/myblog/assets/mianxiangduixiangbianchenghemianxiangguochengbianchengqubie.html-kfJCcZ4b.js" as="script"><link rel="prefetch" href="/myblog/assets/erchashu.html-B9PXpMqf.js" as="script"><link rel="prefetch" href="/myblog/assets/fenzhifa.html-CQJvmGeA.js" as="script"><link rel="prefetch" href="/myblog/assets/dongtaiguihua.html-BrWN86d1.js" as="script"><link rel="prefetch" href="/myblog/assets/tu.html-BZZtS2AI.js" as="script"><link rel="prefetch" href="/myblog/assets/XHR-vs-ajax-vs-fetch-vs-axios.html-DVoVtpX2.js" as="script"><link rel="prefetch" href="/myblog/assets/http.html-BUifY2rb.js" as="script"><link rel="prefetch" href="/myblog/assets/qita.html-Ada_HFyc.js" as="script"><link rel="prefetch" href="/myblog/assets/jiamisuanfa.html-BoxZmn2L.js" as="script"><link rel="prefetch" href="/myblog/assets/xingnenyouhua.html-B3ZZUrs9.js" as="script"><link rel="prefetch" href="/myblog/assets/liulanqihuancun.html-C5PLAPai.js" as="script"><link rel="prefetch" href="/myblog/assets/liulanqitiaozhuanfangshi.html-DBMFrjtS.js" as="script"><link rel="prefetch" href="/myblog/assets/koa.html-lBU3AALO.js" as="script"><link rel="prefetch" href="/myblog/assets/qita.html-BZj52NGK.js" as="script"><link rel="prefetch" href="/myblog/assets/lajihuishou.html-DXSt4LeK.js" as="script"><link rel="prefetch" href="/myblog/assets/MVCheMVVMqubie.html-BQmvyjJ3.js" as="script"><link rel="prefetch" href="/myblog/assets/React.html-BhAuWzXh.js" as="script"><link rel="prefetch" href="/myblog/assets/babel.html-DlGxd9BF.js" as="script"><link rel="prefetch" href="/myblog/assets/clichangyonggongju.html-Cqxzl3MU.js" as="script"><link rel="prefetch" href="/myblog/assets/eslint.html-BqYT4qMu.js" as="script"><link rel="prefetch" href="/myblog/assets/npm.html-B9rpVCmi.js" as="script"><link rel="prefetch" href="/myblog/assets/react-router.html-CFCjXmFE.js" as="script"><link rel="prefetch" href="/myblog/assets/redux.html-ZrsaLUXN.js" as="script"><link rel="prefetch" href="/myblog/assets/webpack.html-Q750wXXJ.js" as="script"><link rel="prefetch" href="/myblog/assets/qita.html-BFIy_xOw.js" as="script"><link rel="prefetch" href="/myblog/assets/xiaochengxuheh5dequbie.html-2ang6ygX.js" as="script"><link rel="prefetch" href="/myblog/assets/weiqianduan.html-DRA-pxSU.js" as="script"><link rel="prefetch" href="/myblog/assets/dabaogongju.html-D2Teumzx.js" as="script"><link rel="prefetch" href="/myblog/assets/waiqizhunbeihuati.html-Dk-aZu-0.js" as="script"><link rel="prefetch" href="/myblog/assets/404.html-DgQy35ix.js" as="script"><link rel="prefetch" href="/myblog/assets/reco-valine-BI2JzRng.js" as="script"><link rel="prefetch" href="/myblog/assets/giscus-2a044aea-CdPDkb7_.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><div class="common-wrapper series--no show-catalog"><header class="navbar-container" style="top:0;"><div class="site-brand nav-item"><img class="logo" src="/myblog/logo.png" alt="æ¬¢è¿ğŸ‘æ¥çœ‹æˆ‘çš„åšå®¢"><a href="/myblog/" class="site-name can-hide">æ¬¢è¿ğŸ‘æ¥çœ‹æˆ‘çš„åšå®¢</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/myblog/" class="link" aria-label="é¦–é¡µ"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->é¦–é¡µ<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/myblog/categories/wangluo/1" class="link" aria-label="æŠ€æœ¯"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->æŠ€æœ¯<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/myblog/tags/tag1/1/" class="link" aria-label="ç”Ÿæ´»"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ç”Ÿæ´»<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a class="link" href="https://github.com/vuepress-reco/vuepress-theme-reco-next" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->GitHub<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><span class="xicon-container btn-toggle-dark-mode btn--dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></header><!----><div class="mobile-menus-container"><nav class="navbar-links mobile"><!--[--><div class="navbar-links__item"><a href="/myblog/" class="link" aria-label="é¦–é¡µ"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->é¦–é¡µ<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/myblog/categories/wangluo/1" class="link" aria-label="æŠ€æœ¯"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->æŠ€æœ¯<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/myblog/tags/tag1/1/" class="link" aria-label="ç”Ÿæ´»"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ç”Ÿæ´»<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a class="link" href="https://github.com/vuepress-reco/vuepress-theme-reco-next" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->GitHub<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><div class="appearance"><span>Appearance</span><span class="xicon-container btn-toggle-dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span></div></div><div class="series-mask"></div><aside class="series-container"><div class="site-brand"><img class="logo" src="/myblog/logo.png" alt="æ¬¢è¿ğŸ‘æ¥çœ‹æˆ‘çš„åšå®¢"><a href="/myblog/" class="site-name can-hide">æ¬¢è¿ğŸ‘æ¥çœ‹æˆ‘çš„åšå®¢</a></div><!--[--><!--]--></aside><!--[--><main class="page-container"><h1 class="page-title">ES6</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->shirley<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2024/09/04<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[--><!--[--><a href="/myblog/categories/javascript/1.html" class="">javascript</a><!--]--><!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8z" fill="currentColor"></path><path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0zM4 4v9.942L18.058 28L28 18.058L13.942 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[--><!--[--><a href="/myblog/tags/javascript/1.html" class="">javascript</a><!--]--><!--]--></span></span><!----></div><div class="theme-reco-default-content"><div><h2 id="es6æœ‰å“ªäº›æ–°ç‰¹æ€§" tabindex="-1"><a class="header-anchor" href="#es6æœ‰å“ªäº›æ–°ç‰¹æ€§"><span>ES6æœ‰å“ªäº›æ–°ç‰¹æ€§</span></a></h2><ol><li>ç®­å¤´å‡½æ•°</li><li>è§£æ„èµ‹å€¼</li><li>æ¨¡æ¿å­—ç¬¦ä¸²</li><li>promise</li><li>symbol Symbolæ˜¯ES6ä¸­å¼•å…¥çš„ä¸€ç§æ–°çš„åŸºæœ¬æ•°æ®ç±»å‹,ç”¨äºè¡¨ç¤ºä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å€¼,ä¸èƒ½ä¸å…¶ä»–æ•°æ®ç±»å‹è¿›è¡Œè¿ç®—</li><li>æ–°çš„å˜é‡å£°æ˜æ–¹å¼-letå’Œconst</li><li>æ¨¡å—åŒ–-es6æ–°å¢äº†æ¨¡å—åŒ–ï¼Œæ ¹æ®åŠŸèƒ½å°è£…æ¨¡å—ï¼Œé€šè¿‡importå¯¼å…¥ï¼Œç„¶åé€šè¿‡exportå¯¼å‡ºä¹Ÿå¯ä»¥ä½¿ç”¨export defaultå¯¼å‡º</li><li>forâ€¦of å¾ªç¯,ç”¨äºéå†å¯è¿­ä»£å¯¹è±¡(å¦‚æ•°ç»„ã€Map å’Œ Set)ä¸­çš„å…ƒç´ </li><li>æ‰©å±•è¿ç®—ç¬¦:ä½¿ç”¨ ... å¯ä»¥å°†æ•°ç»„æˆ–å¯¹è±¡å±•å¼€æˆå¤šä¸ªå‚æ•°,æˆ–è€…å°†å¤šä¸ªå‚æ•°åˆå¹¶æˆä¸€ä¸ªæ•°ç»„</li><li>å±•å¼€è¿ç®—ç¬¦:åœ¨ES6ä¸­ç”¨...æ¥è¡¨ç¤ºå±•å¼€è¿ç®—ç¬¦,å®ƒå¯ä»¥å°†æ•°ç»„æˆ–è€…å¯¹è±¡è¿›è¡Œå±•å¼€</li><li>Mapå’ŒSetï¼Œå¼•å…¥äº†ä¸¤ç§æ–°çš„æ•°æ®ç»“æ„ï¼Œåˆ†åˆ«ç”¨äºå­˜å‚¨é”®å€¼å¯¹å’Œå”¯ä¸€å€¼</li><li>Proxyï¼Œå…è®¸åœ¨å¯¹è±¡å’Œå‡½æ•°è°ƒç”¨ç­‰æ“ä½œå‰åæ·»åŠ è‡ªå®šä¹‰çš„è¡Œä¸º</li><li>ç±»ï¼ˆClassï¼‰ï¼Œå¼•å…¥äº†é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ç±»çš„æ¦‚å¿µ</li><li>é»˜è®¤å‚æ•°ï¼ˆDefault Parameterï¼‰ï¼Œåœ¨å®šä¹‰å‡½æ•°æ—¶å¯ä»¥ç»™å‚æ•°è®¾ç½®é»˜è®¤å€¼</li></ol><h2 id="proxy" tabindex="-1"><a class="header-anchor" href="#proxy"><span>Proxy</span></a></h2><p>Proxyæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨äºä¿®æ”¹ç›®æ ‡å¯¹è±¡çš„é»˜è®¤è¡Œä¸ºã€‚å¯ä»¥ç†è§£ä¸ºåœ¨ç›®æ ‡å¯¹è±¡å‰å¢åŠ â€˜æ‹¦æˆªå™¨â€™ï¼Œå½“è®¿é—®æˆ–è€…å¯¹ç›®æ ‡å¯¹è±¡è¿›è¡Œæ“ä½œæ—¶ï¼Œéƒ½å¿…é¡»å…ˆé€šè¿‡è¿™å±‚æ‹¦æˆªï¼Œå› æ­¤æä¾›äº†ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥å¯¹å¤–ç•Œçš„è®¿é—®è¿›è¡Œè¿‡æ»¤å’Œæ”¹å†™ã€‚</p><h3 id="åŸºæœ¬è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬è¯­æ³•"><span>åŸºæœ¬è¯­æ³•</span></a></h3><p><code>new Proxy(target, handler)</code> targetï¼šç›®æ ‡å¯¹è±¡ï¼Œå¯ä»¥æ˜¯æ•°ç»„ã€å¯¹è±¡ã€å‡½æ•°ç­‰ä»»ä½•å¯¹è±¡ã€‚ï¼ˆå¿…å¡«å‚æ•°ï¼‰ handlerï¼šæ‹¦æˆªå™¨å¯¹è±¡ï¼Œå…¶å±æ€§æ˜¯å®šä¹‰çš„å¤šç§æ“ä½œçš„ä»£ç†è¡Œä¸ºã€‚ï¼ˆå¿…å¡«å‚æ•°ï¼‰</p><h3 id="ä½¿ç”¨å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨å®ä¾‹"><span>ä½¿ç”¨å®ä¾‹</span></a></h3><p>1.getæ–¹æ³•ç”¨äºæ‹¦æˆªè¯»å–å±æ€§æ“ä½œ</p><pre><code class="language-js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;jack&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> objNew <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> recevier</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>props <span class="token keyword">in</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;è¯¥å¯¹è±¡ä¸å…·æœ‰è¯¥å±æ€§ï¼&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

objNew<span class="token punctuation">.</span>name <span class="token comment">// jack</span>
objNew<span class="token punctuation">.</span>age <span class="token comment">// throw Error</span>
<span class="token comment">// ä¸Šé¢å¯¹objå¯¹è±¡æ·»åŠ äº†ä»£ç†ï¼Œè¯»å–nameå±æ€§æ—¶å°†ä¼šè¿”å›æ­£å¸¸çš„ç»“æœï¼Œå½“è®¿é—®objä¸å…·æœ‰çš„å±æ€§ageæ—¶ï¼Œå°†ä¼šæŠ›å‡ºé”™è¯¯ã€‚</span>
</code></pre><p>2.setæ–¹æ³•æ‹¦æˆªè®¾ç½®å±æ€§çš„æ“ä½œï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­</p><pre><code class="language-js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;jack&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> objNew <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> value<span class="token punctuation">,</span> recevier</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;hi&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

objNew<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;hello&#39;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>objNew<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// &#39;hi&#39;</span>
</code></pre><p>3.å‚æ•°å«ä¹‰</p><p>ä¸Šé¢objå’ŒobjNewæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œgetæ–¹æ³•ä¸­targetä»¥åŠrecevieråˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</p><pre><code class="language-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;jack&#39;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> pro <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> recevier<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target <span class="token operator">===</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>recevier <span class="token operator">===</span> pro<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj <span class="token operator">===</span> pro<span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre><p>ä»ä¸Šé¢çš„è¾“å‡ºä¸­å¯ä»¥çœ‹åˆ°ï¼Œæ‹¦æˆªå™¨ä¸­ç¬¬ä¸€ä¸ªå‚æ•°targetå’Œç›®æ ‡å¯¹è±¡æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œå‚æ•°recevieræ˜¯ä»£ç†åçš„å¯¹è±¡ã€‚ä½†æ˜¯ç›®æ ‡å¯¹è±¡å’Œä»£ç†å¯¹è±¡æ˜¯ä¸ä¸€æ ·çš„ï¼Œå½“æ²¡æœ‰è®¾ç½®handleræ—¶ï¼Œå¯¹ä»£ç†å¯¹è±¡å’Œç›®æ ‡å¯¹è±¡è¿›è¡Œå¯¹åº”æ“ä½œæ—¶ï¼Œå°†è·å–åˆ°ç›¸åŒçš„ç»“æœã€‚</p><pre><code class="language-js"><span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

target<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">37</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 37</span>
</code></pre><h3 id="proxyå¯æ‹¦æˆªæ“ä½œ" tabindex="-1"><a class="header-anchor" href="#proxyå¯æ‹¦æˆªæ“ä½œ"><span>Proxyå¯æ‹¦æˆªæ“ä½œ</span></a></h3><p>é™¤äº†ä¸Šé¢çš„getä»¥åŠsetæ‹¦æˆªå™¨ï¼Œä¸‹é¢å°†ä»‹ç»å…¶ä»–æ‹¦æˆªå™¨çš„ä½¿ç”¨æ–¹æ³•ä»¥åŠç‰¹æ€§ã€‚</p><h4 id="apply" tabindex="-1"><a class="header-anchor" href="#apply"><span>apply</span></a></h4><p>applyç”¨äºæ‹¦æˆªå‡½æ•°çš„è°ƒç”¨æ“ä½œã€‚</p><ol><li>åŸºæœ¬è¯­æ³•</li></ol><pre><code class="language-js"><span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">apply</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> thisArg<span class="token punctuation">,</span> argumentsList</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>applyä¸­çš„å‚æ•°å«ä¹‰ï¼š targetï¼šç›®æ ‡å¯¹è±¡ thisArgï¼šæ‰§è¡ŒåŸæ–¹æ³•æ—¶æŒ‡å®šthiså¯¹è±¡ argumentsListï¼šå‚æ•° 2. ä½¿ç”¨ä¾‹å­</p><pre><code class="language-js"><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> addNew <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>add<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> thisArg<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">target</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">addNew</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>
</code></pre><ol start="3"><li>å¯æ‹¦æˆªæ“ä½œä»¥åŠæ³¨æ„äº‹é¡¹ 3.1 å¯æ‹¦æˆªæ“ä½œ</li></ol><p>proxy(arg)ï¼šç›´æ¥è°ƒç”¨æ–¹æ³•ï¼ˆæ˜¯è¢«Proxyæ‹¦æˆªåçš„æ–¹æ³•å¯¹è±¡ï¼‰ Function.Prototype.apply()ä»¥åŠFunction.Prototype.call() Reflect.apply(target, thisArg, argumentsList)ï¼šé€šè¿‡æŒ‡å®šå‚æ•°argumentsListï¼Œåœ¨thisArgä¸Šä¸‹æ–‡ç¯å¢ƒä¸‹è°ƒç”¨å¯¹è±¡æ–¹æ³•target 3.2 æ³¨æ„äº‹é¡¹</p><p>å½“targetä¸æ˜¯å¯æ‰§è¡Œå¯¹è±¡æ–¹æ³•æ—¶ï¼Œå¦‚æœä½¿ç”¨æ”¹æ‹¦æˆªå™¨ï¼Œåˆ™ä¼šæŠ›é”™ã€‚</p><p>constructor æ‰§è¡Œnew æ“ä½œæ—¶å°†ä¼šè¢«æ‹¦æˆª</p><ol><li>åŸºæœ¬è¯­æ³•</li></ol><pre><code class="language-js"><span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">construct</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> argumentsList<span class="token punctuation">,</span> newTarget</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>å‚æ•°å«ä¹‰ï¼š targetï¼šç›®æ ‡å¯¹è±¡ newTargetï¼šæœ€åˆè¢«è°ƒç”¨çš„æ„é€ å‡½æ•°ï¼Œåœ¨ä¸Šè¿°demoä¸­æŒ‡çš„æ˜¯p argumentsListï¼šå‚æ•° 2. ä½¿ç”¨ä¾‹å­</p><pre><code class="language-js"><span class="token keyword">var</span> pro <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">construct</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> argumentsList<span class="token punctuation">,</span> newTarget</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">greet</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>argumentsList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">pro</span><span class="token punctuation">(</span><span class="token string">&#39;jack&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>greet<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello jack</span>
</code></pre><ol start="3"><li>å¯æ‹¦æˆªæ“ä½œä»¥åŠæ³¨æ„äº‹é¡¹ 3.1 å¯æ‹¦æˆªæ“ä½œ</li></ol><p>newæ“ä½œç¬¦ï¼šnew proxy(args); Reflect.constructor(); 3.2 æ³¨æ„äº‹é¡¹</p><p>targetç›®æ ‡å¯¹è±¡å¿…é¡»å¯è¿›è¡Œnew æ“ä½œ constructorä»£ç†ä¸­è¿”å›å€¼å¿…é¡»æ˜¯å¯¹è±¡ has</p><ol><li>åŸºæœ¬è¯­æ³•</li></ol><pre><code class="language-js"><span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">has</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><ol start="2"><li>ä½¿ç”¨ä¾‹å­</li></ol><pre><code class="language-js"><span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">has</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;called: &#39;</span> <span class="token operator">+</span> prop<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span> <span class="token keyword">in</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// called: a</span>
</code></pre><ol start="3"><li>å¯æ‹¦æˆªæ“ä½œä»¥åŠæ³¨æ„äº‹é¡¹ 3.1 å¯æ‹¦æˆªæ“ä½œ</li></ol><pre><code class="language-js"><span class="token keyword">for</span> a <span class="token keyword">in</span> proxy
<span class="token keyword">for</span> a <span class="token keyword">in</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>proxy<span class="token punctuation">)</span>ï¼šå½“æŸä¸ªå¯¹è±¡ç»§æ‰¿äº†proxyæ—¶
<span class="token keyword">with</span> <span class="token literal-property property">æ£€æŸ¥</span><span class="token operator">:</span> <span class="token keyword">with</span><span class="token punctuation">(</span>proxy<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
Reflect<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><p>3.2 æ³¨æ„äº‹é¡¹</p><p>å¦‚æœç›®æ ‡å¯¹è±¡çš„æŸä¸€å±æ€§æœ¬èº«ä¸å¯è¢«é…ç½®ï¼Œåˆ™è¯¥å±æ€§ä¸èƒ½å¤Ÿè¢«ä»£ç† å¦‚æœç›®æ ‡å¯¹è±¡ä¸ºä¸å¯æ‰©å±•å¯¹è±¡ï¼Œåˆ™è¯¥å¯¹è±¡çš„å±æ€§ä¸èƒ½å¤Ÿè¢«ä»£ç† deleteProperty deleteæ“ä½œç¬¦åˆ é™¤æŸä¸ªå±æ€§æ—¶ï¼Œä¼šè¢«æ‹¦æˆªã€‚</p><ol><li>åŸºæœ¬è¯­æ³•</li></ol><pre><code class="language-js"><span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">deleteProperty</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> property</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><ol start="2"><li>ä½¿ç”¨å®ä¾‹</li></ol><pre><code class="language-js"><span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">deleteProperty</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;called: &#39;</span> <span class="token operator">+</span> prop<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">delete</span> p<span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token comment">// &quot;called: a&quot;</span>
</code></pre><ol start="3"><li>å¯æ‹¦æˆªæ“ä½œä»¥åŠæ³¨æ„äº‹é¡¹ 3.1 å¯æ‹¦æˆªæ“ä½œ</li></ol><pre><code class="language-js"><span class="token keyword">delete</span> proxy<span class="token punctuation">.</span>a æˆ–è€…æ˜¯<span class="token keyword">delete</span> proxy<span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">]</span>
Reflect<span class="token punctuation">.</span><span class="token function">deleteProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><p>3.2 æ³¨æ„äº‹é¡¹</p><p>å¦‚æœç›®æ ‡å¯¹è±¡çš„å±æ€§æ˜¯ä¸å¯é…ç½®çš„ï¼Œé‚£ä¹ˆè¯¥å±æ€§ä¸èƒ½è¢«åˆ é™¤ å…¶ä»–æ‹¦æˆªå™¨ ä»¥ä¸‹æ–¹æ³•çš„ä½¿ç”¨å’Œä¸Šé¢ä»‹ç»çš„å¾ˆç±»ä¼¼ï¼Œå°±ä¸ä¸€ä¸€å±•å¼€äº†ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥æŸ¥çœ‹å…·ä½“çš„APIã€‚</p><pre><code class="language-js">getPrototypeOf
setPrototypeOf
defineProperty
getOwnPropertyDescriptor
isExtensible
ownKeys
preventExtensions
Proxy<span class="token punctuation">.</span><span class="token function">revocable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
Proxy<span class="token punctuation">.</span>revocableæ–¹æ³•è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„proxyå±æ€§æ˜¯Proxyå®ä¾‹ï¼Œrevokeå±æ€§æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥å–æ¶ˆProxyå®ä¾‹ã€‚

<span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> handler <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token punctuation">{</span>proxy<span class="token punctuation">,</span> revoke<span class="token punctuation">}</span> <span class="token operator">=</span> Proxy<span class="token punctuation">.</span><span class="token function">revocable</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>

proxy<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
proxy<span class="token punctuation">.</span>foo <span class="token comment">// 123</span>

<span class="token function">revoke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
proxy<span class="token punctuation">.</span>foo <span class="token comment">// TypeError: Revoked</span>
</code></pre><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå½“æ‰§è¡Œrevokeå‡½æ•°ä¹‹åï¼Œå†è®¿é—®Proxyå®ä¾‹ï¼Œå°±ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</p><p>Proxy.revocableçš„ä¸€ä¸ªä½¿ç”¨åœºæ™¯æ˜¯ç›®æ ‡å¯¹è±¡ä¸å…è®¸ç›´æ¥è®¿é—®ï¼Œå¿…é¡»é€šè¿‡ä»£ç†è®¿é—®ï¼Œä¸€æ—¦è®¿é—®ç»“æŸï¼Œå°±æ”¶å›ä»£ç†æƒï¼Œä¸å…è®¸å†æ¬¡è®¿é—®ã€‚</p><p>Proxyä¸­çš„thisé—®é¢˜ è™½ç„¶Proxyå¯ä»¥ä»£ç†é’ˆå¯¹ç›®æ ‡å¯¹è±¡çš„è®¿é—®ï¼Œä½†å®ƒä¸æ˜¯ç›®æ ‡å¯¹è±¡çš„é€æ˜ä»£ç†ï¼Œå³ä¸åšä»»ä½•æ‹¦æˆªçš„æƒ…å†µä¸‹ï¼Œä¹Ÿæ— æ³•ä¿è¯ä¸ç›®æ ‡å¯¹è±¡çš„è¡Œä¸ºä¸€è‡´ã€‚ä¸»è¦åŸå› å°±æ˜¯åœ¨ Proxyä»£ç†çš„æƒ…å†µä¸‹ï¼Œç›®æ ‡å¯¹è±¡å†…éƒ¨çš„thiså…³é”®å­—ä¼šæŒ‡å‘Proxyä»£ç†ã€‚</p><pre><code class="language-js"><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">m</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> proxy<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> handler <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
target<span class="token punctuation">.</span><span class="token function">m</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
proxy<span class="token punctuation">.</span><span class="token function">m</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// true</span>
</code></pre><p>åœ¨æ²¡æœ‰ä»»ä½•æ‹¦æˆªçš„æƒ…å†µä¸‹ï¼Œå¦‚æœåªæ˜¯å¯¹ä»£ç†å¯¹è±¡å’Œç›®æ ‡å¯¹è±¡è¿›è¡Œç®€å•æ“ä½œï¼Œè¿˜æ˜¯åŸºæœ¬èƒ½ä¿æŒç»“æœçš„ä¸€è‡´æ€§çš„ã€‚</p><p>Proxyçš„å®é™…ä½¿ç”¨åœºæ™¯ åŸºæœ¬æ‰©å±•æ“ä½œ</p><pre><code class="language-js"> <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span>

  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">get</span> <span class="token punctuation">(</span>target<span class="token punctuation">,</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&#39;:&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> indexs <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;:&#39;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> target<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>indexs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> indexs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> target<span class="token punctuation">[</span>name<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  res<span class="token punctuation">[</span><span class="token string">&#39;2:5&#39;</span><span class="token punctuation">]</span> <span class="token comment">// [ 2, 3, 4]</span>
</code></pre><p>è¿™ä¸æ˜¯å¾ˆcoolï¼Œå¯¹å¯¹è±¡ä¹Ÿå¯åšç±»ä¼¼å¤„ç†ï¼Œå®ç°é“¾å¼æ“ä½œã€‚</p><pre><code class="language-js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token string">&#39;hello world&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

  <span class="token keyword">const</span> obj1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">get</span> <span class="token punctuation">(</span>target<span class="token punctuation">,</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> keys <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;.&#39;</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> keys<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>pre <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> pre <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          pre <span class="token operator">=</span> pre<span class="token punctuation">[</span>next<span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> pre
      <span class="token punctuation">}</span><span class="token punctuation">,</span> target<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  obj1<span class="token punctuation">[</span><span class="token string">&#39;a.b.c&#39;</span><span class="token punctuation">]</span> <span class="token comment">// hello world</span>
</code></pre><p>æ•°æ®æ ¡éªŒ</p><pre><code class="language-js"><span class="token keyword">const</span> people <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;jack&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">16</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>people<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prop <span class="token operator">===</span> <span class="token string">&#39;age&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">!==</span> <span class="token string">&#39;number&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;æ•°æ®ç±»å‹å‡ºé”™&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">&gt;</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;å¹´é¾„è®¾ç½®è¶…å‡ºèŒƒå›´&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      
    <span class="token punctuation">}</span> 
    <span class="token keyword">return</span> target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
proxy<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
proxy<span class="token punctuation">.</span>age <span class="token comment">// 100</span>
proxy<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token string">&#39;111&#39;</span> <span class="token comment">// æŠ›é”™ æ•°æ®ç±»å‹å‡ºé”™</span>
</code></pre><p>é€šè¿‡Proxyè¿˜å¯ä»¥å®ç°å…¶ä»–å¾ˆå¤šæœ‰è¶£çš„ä¸œè¥¿ï¼Œæ¯”å¦‚æ•°æ®åº“ormç­‰ç­‰ï¼Œç­‰å¾…ç€ä½ çš„æ¢ç´¢å“¦ï¼</p></div></div><footer class="page-meta"><div class="meta-item edit-link"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M2 26h28v2H2z" fill="currentColor"></path><path d="M25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10l3.6 3.6l-10 10H6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Edit this page<!--]--></span></span></div><div class="meta-item last-updated"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Last Updated 9/6/2024, 3:20:39 PM<!--]--></span></span></div></footer><!----><!----></main><!--]--><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/myblog/blogs/technology/JS/es6.html#es6æœ‰å“ªäº›æ–°ç‰¹æ€§" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="ES6æœ‰å“ªäº›æ–°ç‰¹æ€§"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ES6æœ‰å“ªäº›æ–°ç‰¹æ€§<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/myblog/blogs/technology/JS/es6.html#proxy" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Proxy"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Proxy<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/myblog/blogs/technology/JS/es6.html#åŸºæœ¬è¯­æ³•" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="åŸºæœ¬è¯­æ³•"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->åŸºæœ¬è¯­æ³•<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/myblog/blogs/technology/JS/es6.html#ä½¿ç”¨å®ä¾‹" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="ä½¿ç”¨å®ä¾‹"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ä½¿ç”¨å®ä¾‹<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/myblog/blogs/technology/JS/es6.html#proxyå¯æ‹¦æˆªæ“ä½œ" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Proxyå¯æ‹¦æˆªæ“ä½œ"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Proxyå¯æ‹¦æˆªæ“ä½œ<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--]--></ul></div></div></div><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/myblog/assets/app-COjMlnxi.js" defer></script>
  </body>
</html>

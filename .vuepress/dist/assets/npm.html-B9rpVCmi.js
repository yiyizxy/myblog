import{_ as o,r as l,o as r,c as t,a as n,b as e,d as s,e as p}from"./app-COjMlnxi.js";const c={},m=p(`<h2 id="npm" tabindex="-1"><a class="header-anchor" href="#npm"><span>npm</span></a></h2><h3 id="npm-v2" tabindex="-1"><a class="header-anchor" href="#npm-v2"><span>npm v2</span></a></h3><p>æ­¤æ—¶æœŸä¸»è¦æ˜¯é‡‡ç”¨ç®€å•çš„é€’å½’ä¾èµ–æ–¹æ³•ï¼Œæœ€åå½¢æˆé«˜åº¦åµŒå¥—çš„ä¾èµ–æ ‘ã€‚ç„¶åå°±ä¼šé€ æˆå¦‚ä¸‹é—®é¢˜ï¼šé‡å¤ä¾èµ–åµŒå¥—åœ°ç‹±ï¼Œç©ºé—´èµ„æºæµªè´¹ï¼Œå®‰è£…é€Ÿåº¦è¿‡æ…¢ï¼Œæ–‡ä»¶è·¯å¾„è¿‡é•¿ç­‰é—®é¢˜ã€‚</p><pre><code class="language-js">node_modules
â”œâ”€â”€ <span class="token constant">A</span>@<span class="token number">1.0</span><span class="token number">.0</span>
â”‚   â””â”€â”€ node_modules
â”‚       â””â”€â”€ <span class="token constant">B</span>@<span class="token number">1.0</span><span class="token number">.0</span>
â”œâ”€â”€ <span class="token constant">C</span>@<span class="token number">1.0</span><span class="token number">.0</span>
â”‚   â””â”€â”€ node_modules
â”‚       â””â”€â”€ <span class="token constant">B</span>@<span class="token number">2.0</span><span class="token number">.0</span>
â””â”€â”€ <span class="token constant">D</span>@<span class="token number">1.0</span><span class="token number">.0</span>
    â””â”€â”€ node_modules
        â””â”€â”€ <span class="token constant">B</span>@<span class="token number">1.0</span><span class="token number">.0</span>
</code></pre><h3 id="npm-v3" tabindex="-1"><a class="header-anchor" href="#npm-v3"><span>npm v3</span></a></h3>`,5),d={href:"https://github.com/npm/npm/issues/8826",target:"_blank",rel:"noopener noreferrer"},i=n("pre",null,[n("code",{class:"language-shell"},`node_modules
â”œâ”€â”€ A@1.0.0
â”œâ”€â”€ B@1.0.0
â””â”€â”€ C@1.0.0
    â””â”€â”€ node_modules
        â””â”€â”€ B@2.0.0
â”œâ”€â”€ D@1.0.0
`)],-1),h=n("p",null,"V3å­˜åœ¨ä¸€äº›ä¸ç¨³å®šæ€§ï¼Œä¸¾ä¸ªğŸŒ°ï¼šå‡è®¾A@1.0.0 ä¾èµ–C@1.0.1ï¼ŒB@1.0.0 ä¾èµ– C@1.0.2ï¼Œé‚£ä¹ˆç”Ÿæˆçš„node_modulesç»“æ„ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿ",-1),u=n("pre",null,[n("code",{class:"language-shell"},`node_modules
â”œâ”€â”€ A@1.0.0
â”œâ”€â”€ B@1.0.0
    â””â”€â”€ node_modules
        â””â”€â”€ C@1.0.2
â”œâ”€â”€ C@1.0.1
// è¿˜æ˜¯ä¸‹é¢çš„æƒ…å†µå‘¢
node_modules
â”œâ”€â”€ A@1.0.0
    â””â”€â”€ node_modules
        â””â”€â”€ C@1.0.1
â”œâ”€â”€ B@1.0.0
â”œâ”€â”€ C@1.0.2
`)],-1),k=n("p",null,"å…·ä½“ç»“æ„æ˜¯å•¥ï¼Œä¾èµ–Aã€Båœ¨package.jsonä¸­çš„ä½ç½®",-1),_=n("h3",{id:"npm-v5",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#npm-v5"},[n("span",null,"npm v5")])],-1),g=n("p",null,"ä¸ºäº†è§£å†³ä¸Šé¢å‡ºç°çš„æ‰å¹³åŒ–ä¾èµ–ç®—æ³•è€—æ—¶é•¿ä»¥åŠç»“æ„ä¸ç¨³å®šé—®é¢˜ï¼Œnpmå¼•å…¥package-lock.jsonæœºåˆ¶ï¼Œpackage-lock.jsonçš„ä½œç”¨æ˜¯é”å®šé¡¹ç›®çš„ä¾èµ–ç»“æ„ï¼Œä¿è¯ä¾èµ–çš„ç¨³å®šæ€§",-1),b={href:"https://docs.npmjs.com/cli/v10/configuring-npm/package-json/",target:"_blank",rel:"noopener noreferrer"},y=p('<h2 id="yarn" tabindex="-1"><a class="header-anchor" href="#yarn"><span>yarn</span></a></h2><h2 id="yarn1" tabindex="-1"><a class="header-anchor" href="#yarn1"><span>yarn1</span></a></h2><p>é¦–å…ˆéœ€è¦æå‡ºçš„æ˜¯yarnå‡ºç°æ—¶é—´ä¸º2016å¹´ï¼Œyarnçš„å‡ºç°æ˜¯ä¸ºäº†è§£å†³npmv3ã€npm v5è§£å†³çš„é—®é¢˜ï¼ŒåŒ…æ‹¬ä½¿ç”¨<code>yarn.lock</code>ç­‰æœºåˆ¶ï¼Œé”å®šç‰ˆæœ¬ä¾èµ–ï¼Œå®ç°å¹¶å‘ç½‘ç»œè¯·æ±‚ï¼Œæœ€å¤§åŒ–ç½‘ç»œèµ„æºåˆ©ç”¨ç‡ï¼Œå…¶æ¬¡è¿˜æœ‰åˆ©ç”¨ç¼“å­˜æœºåˆ¶ï¼Œå®ç°äº†ç¦»çº¿æ¨¡å¼</p><p>å…¶å®åé¢å¾ˆå¤š<code>npm</code>éƒ½æ˜¯åœ¨å­¦ä¹ <code>yarn</code>çš„æœºåˆ¶ï¼Œä¸Šé¢çš„æœºåˆ¶ç›®å‰npmåŸºæœ¬ä¹Ÿéƒ½å®ç°äº†ï¼Œå°±ç›®å‰è€Œè¨€npmå’Œyarnå…¶å®å¹¶æ²¡æœ‰å·®å¼‚å¾ˆå¤§ï¼Œå…·ä½“ä½¿ç”¨npmè¿˜æ˜¯yarnå¯ä»¥çœ‹ä¸ªäººéœ€æ±‚</p><p>yarnä¸npmçš„åŒºåˆ«ï¼š</p><p><code>package-lock.json</code>ä¸<code>yarn.lock</code>æ ¼å¼ä¸Šæœ‰å·®å¼‚ã€‚</p>',6),v=n("code",null,"package-lock.json",-1),f=n("code",null,"node_modules",-1),x=n("code",null,"yarn.lock",-1),j=n("code",null,"package.json",-1),B={href:"https://github.com/fengliner/blog/issues/3",target:"_blank",rel:"noopener noreferrer"},w=p('<h2 id="yarn2" tabindex="-1"><a class="header-anchor" href="#yarn2"><span>yarn2</span></a></h2><p>yarn2ç‰ˆæœ¬æ˜¯æ— <code>node_modules</code>æ¨¡å¼ï¼Œå¯ä»¥åŠ å¿«é¡¹ç›®å®‰è£…é€Ÿåº¦ï¼ŒåŒæ—¶å¤§å¤§ç¼©å‡åˆ é™¤ä¸€æ•´ä¸ªé¡¹ç›®çš„é€Ÿåº¦ã€‚</p><p><code>npm install -g yarn@berry</code></p><h2 id="pnpm" tabindex="-1"><a class="header-anchor" href="#pnpm"><span>pnpm</span></a></h2><p>ä¸­æ–‡å®˜ç½‘ï¼špnpm - é€Ÿåº¦å¿«ã€èŠ‚çœç£ç›˜ç©ºé—´çš„è½¯ä»¶åŒ…ç®¡ç†å™¨ | pnpmä¸­æ–‡æ–‡æ¡£ | pnpmä¸­æ–‡ç½‘</p><p>pnpmå†…éƒ¨ä½¿ç”¨åŸºäºå†…å®¹å¯»å€çš„æ–‡ä»¶ç³»ç»Ÿæ¥å­˜å‚¨ç£ç›˜ä¸Šæ‰€æœ‰çš„æ–‡ä»¶ï¼Œè¿™æ ·å¯ä»¥åšåˆ°ä¸ä¼šå‡ºç°é‡å¤å®‰è£…ï¼Œåœ¨é¡¹ç›®ä¸­éœ€è¦ä½¿ç”¨åˆ°ä¾èµ–çš„æ—¶å€™ï¼Œpnpmåªä¼šå®‰è£…ä¸€æ¬¡ï¼Œä¹‹åå†æ¬¡ä½¿ç”¨éƒ½ä¼šç›´æ¥ç¡¬é“¾æ¥æŒ‡å‘è¯¥ä¾èµ–ï¼Œ(åŒ…æ˜¯ä»å…¨å±€storeç¡¬è¿æ¥åˆ°è™šæ‹Ÿstoreçš„ï¼Œè¿™é‡Œçš„è™šæ‹Ÿstoreå°±æ˜¯node_modules/.pnpm),æå¤§èŠ‚çœç£ç›˜ç©ºé—´ï¼Œå¹¶ä¸”åŠ å¿«å®‰è£…é€Ÿåº¦</p><p>æ³¨ï¼šç¡¬é“¾æ¥æ˜¯å¤šä¸ªæ–‡ä»¶åæŒ‡å‘åŒä¸€ä¸ªæ–‡ä»¶çš„å®é™…å†…å®¹ï¼Œè€Œè½¯é“¾æ¥ï¼ˆç¬¦å·é“¾æ¥ï¼‰æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ï¼ŒæŒ‡å‘å¦ä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•çš„è·¯å¾„</p>',7),C={href:"https://classic.yarnpkg.com/en/docs/pnp/",target:"_blank",rel:"noopener noreferrer"},A=p(`<p>æœ€åå°±æ˜¯pnpmæ˜¯é»˜è®¤æ”¯æŒmonorepoå¤šé¡¹ç›®ç®¡ç†çš„ï¼Œåœ¨æ—¥æ¸å¤æ‚çš„å‰ç«¯å¤šé¡¹ç›®å¼€å‘ä¸­å°¤å…¶é€‚ç”¨ï¼Œä¹Ÿå°±è¯´æˆ‘ä»¬ä¸å†éœ€è¦lernaæ¥ç®¡ç†å¤šåŒ…é¡¹ç›®ï¼Œå¯ä»¥ä½¿ç”¨pnpm + Turborepoä½œä¸ºæˆ‘ä»¬çš„é¡¹ç›®ç®¡ç†ç¯å¢ƒ</p><p>pnpmè§£å†³äº†npmã€yarnå­˜åœ¨çš„å“ªäº›é—®é¢˜ï¼Ÿ 1.å¹½çµä¾èµ–é—®é¢˜ï¼Œä»€ä¹ˆæ˜¯å¹½çµä¾èµ–ï¼Ÿ<code>package.json</code>æ–‡ä»¶ä¸­æ²¡æœ‰ç›¸å…³ä¾èµ–åŒ…Aï¼Œä½†åªè¦ä¾èµ–åŒ…Bä¾èµ–ï¼Œé¡¹ç›®ä¸­å°±å¯ä»¥ç›´æ¥å¼•å…¥ä¾èµ–åŒ…Bï¼Œå‡å¦‚æŸå¤©Aä¸ä¾èµ–Bäº†ï¼Œåˆ™ä¼šæœ‰é—®é¢˜ 2.å½“npmã€yarnå­˜åœ¨ä¾èµ–å¤šä¸ªä¸åŒç‰ˆæœ¬çš„ç›¸åŒåŒ…æ—¶ï¼Œåªä¼šæå‡1ä¸ªï¼Œå…¶ä½™ç‰ˆæœ¬çš„åŒ…ä»ç„¶å­˜åœ¨å¤åˆ¶å¤šæ¬¡çš„æƒ…å†µï¼Œæµªè´¹ç£ç›˜ç©ºé—´</p><p>è¿˜æœ‰å°±æ˜¯pnpmè¿˜èƒ½ç®¡ç†nodejsç‰ˆæœ¬ï¼Œå¯ä»¥ç›´æ¥æ›¿ä»£nvmï¼Œå‘½ä»¤å¦‚ä¸‹æ‰€ç¤º</p><pre><code class="language-shell"><span class="token comment"># å®‰è£… LTS ç‰ˆæœ¬</span>
<span class="token function">pnpm</span> <span class="token function">env</span> use <span class="token parameter variable">--global</span> lts
<span class="token comment"># å®‰è£…æŒ‡å®šç‰ˆæœ¬</span>
<span class="token function">pnpm</span> <span class="token function">env</span> use <span class="token parameter variable">--global</span> <span class="token number">16</span>
</code></pre><p>ä¼˜ç‚¹</p><ol><li>é€Ÿåº¦å¿«ï¼šåœ¨ç»å¤§å¤šæ•°åœºæ™¯ä¸‹ï¼ŒåŒ…å®‰è£…çš„é€Ÿåº¦æ¯”npm/yarnå¿«2-3å€</li><li>èŠ‚çœç£ç›˜ç©ºé—´ï¼šä¼šæŠŠåŒ…è½¯é“¾åˆ°é¡¹ç›®æœ¬åœ°ï¼Œæ— éœ€é‡å¤å®‰è£…ï¼Œç”±äºåŸºäºå†…å®¹å¯»å€çš„æ–‡ä»¶ç³»ç»Ÿæ¥å­˜å‚¨ç£ç›˜ä¸Šçš„æ‰€æœ‰æ–‡ä»¶ï¼Œä¸»è¦è¡¨ç°åœ¨ï¼š1.ä¸ä¼šé‡å¤å®‰è£…åŒä¸€ä¸ªåŒ…2.å³ä½¿åŒ…ä¸åŒç‰ˆæœ¬ï¼Œä¹Ÿä¼šæœ€å¤§ç¨‹åº¦çš„å¤ç”¨ä»£ç ï¼Œåªæ–°å¢ä¸åŒçš„éƒ¨åˆ†</li><li>æ”¯æŒmonorepo</li><li>æ”¯æŒç®¡ç†nodejsç‰ˆæœ¬</li></ol><h2 id="npmå¸¸ç”¨æŒ‡ä»¤" tabindex="-1"><a class="header-anchor" href="#npmå¸¸ç”¨æŒ‡ä»¤"><span>npmå¸¸ç”¨æŒ‡ä»¤</span></a></h2><p>ä¸ºäº†ç»´æŠ¤åŒ…ï¼Œnpmå¿…é¡»è¦ä½¿ç”¨ä»“åº“è´¦å·æ‰å…è®¸å°†åŒ…å‘ä¸åˆ°ä»“åº“ä¸­ã€‚æ³¨å†Œè´¦å·çš„å‘½ä»¤æ˜¯npm adduserï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªæé—®å¼çš„äº¤äº’è¿‡ç¨‹ï¼ŒæŒ‰é¡ºåºå³å¯ï¼š</p><p>æŸ¥çœ‹npmåŒ…çš„owner:<code>npm owner ls @xxx</code></p><p>å¯¹npmåŒ…åŠ æŸäººæƒé™ï¼š<code>npm owner add shirely @xxx</code></p><p>å¯¹npmåŒ…åˆ é™¤æŸäººæƒé™ï¼š<code>npm owner delete shirely @xxx</code></p><p>npm lsåˆ†æå‡ºå½“å‰è·¯å¾„ä¸‹èƒ½å¤Ÿé€šè¿‡æ¨¡å—è·¯å¾„æ‰¾åˆ°çš„æ‰€æœ‰çš„åŒ…ï¼Œå¹¶ç”Ÿæˆ<code>npm ls | grep @xxx</code> æŸ¥çœ‹sparrowç‰ˆæœ¬</p><p>npm link åŒ…ä¸ç”¨å‘ç‰ˆï¼Œå¯ä»¥è¿æ¥æœ¬åœ°<code>npm view @xxx --json</code> æŸ¥çœ‹åŒ…å„ä¸ªç‰ˆæœ¬ä¿¡æ¯</p><h2 id="package-jsonå…³é”®å­—æ®µè§£æ" tabindex="-1"><a class="header-anchor" href="#package-jsonå…³é”®å­—æ®µè§£æ"><span>package.jsonå…³é”®å­—æ®µè§£æ</span></a></h2><p>main: å®šä¹‰äº†npmåŒ…çš„å…¥å£æ–‡ä»¶ï¼Œbrowserç¯å¢ƒå’Œnodeç¯å¢ƒå‡å¯ä½¿ç”¨ module: å®šä¹‰npmåŒ…çš„ESMè§„èŒƒçš„å…¥å£æ–‡ä»¶ï¼Œbrowserç¯å¢ƒå’Œnodeç¯å¢ƒå‡å¯ä½¿ç”¨ browser: å®šä¹‰npmåŒ…åœ¨browserç¯å¢ƒä¸‹çš„å…¥å£æ–‡ä»¶</p><h2 id="å‚è€ƒ" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒ"><span>å‚è€ƒ</span></a></h2>`,16),P={href:"https://juejin.cn/post/7076389222025789448",target:"_blank",rel:"noopener noreferrer"};function N(S,T){const a=l("ExternalLinkIcon");return r(),t("div",null,[m,n("p",null,[e("v3ç‰ˆæœ¬ä½œäº†è¾ƒå¤§çš„æ›´æ–°ï¼Œå¼€å§‹é‡‡å–æ‰å¹³åŒ–çš„ä¾èµ–ç»“æ„ã€‚è¿™æ ·çš„ä¾èµ–ç»“æ„å¯ä»¥å¾ˆå¥½çš„è§£å†³é‡å¤ä¾èµ–çš„åµŒå¥—åœ°ç‹±é—®é¢˜ï¼Œä½†æ˜¯å´å‡ºç°æ‰å¹³åŒ–ä¾èµ–ç®—æ³•è€—æ—¶é•¿è¿™æ ·æ–°çš„é—®é¢˜ å®˜æ–¹ä»“åº“issueçš„è§£é‡Šï¼š"),n("a",d,[e("npm@3 wants to be faster Â· Issue #8826 Â· npm/npm (github.com)"),s(a)])]),i,h,u,k,_,g,n("p",null,[e("å®˜æ–¹æ–‡æ¡£ï¼š"),n("a",b,[e("package.json | npm Docs (npmjs.com)"),s(a)])]),y,n("p",null,[e("npm v5ä¸­åªéœ€è¦"),v,e("å°±å¯ä»¥ä¿æ­£ç¡®çš„"),f,e("ç›®å½•ç»“æ„ï¼Œè€Œyarnéœ€è¦åŒæ—¶æ‹¥æœ‰"),x,e("æ–‡ä»¶å’Œ"),j,e("æ–‡ä»¶ã€‚å¯å‚è€ƒ"),n("a",B,[e("Yarnçš„ç¡®å®šæ€§"),s(a)])]),w,n("p",null,[e("ä¹Ÿè®¸æœ‰äººè¯´yarné»˜è®¤ä¹Ÿæ˜¯æ‰å¹³åŒ–å®‰è£…æ–¹å¼ï¼Œä½†æ˜¯yarnæœ‰ç‹¬ç‰¹çš„PnPå®‰è£…æ–¹å¼ï¼Œå¯ä»¥ç›´æ¥å»æ‰node_modulesï¼Œå°†ä¾èµ–åŒ…å†…å®¹å†™åœ¨ç£ç›˜ï¼ŒèŠ‚çœäº†nodeæ–‡ä»¶I/Oçš„å¼€é”€ï¼Œè¿™æ ·ä¹Ÿèƒ½æå‡å®‰è£…é€Ÿåº¦ï¼Œä½†æ˜¯yarn PnP å’Œpnpmæœºåˆ¶æ˜¯ä¸åŒçš„ï¼Œä¸”æ€»ä½“æ¥è¯´å®‰è£…é€Ÿåº¦pnpmæ˜¯è¦å¿«äºyarn PnPçš„ï¼Œè¯¦æƒ…è¯·çœ‹ä¸‹é¢"),n("a",C,[e("å®˜æ–¹æ–‡æ¡£"),s(a)])]),A,n("p",null,[n("a",P,[e("åŒ…ç®¡ç†å·¥å…· â€”â€” æ›´æ¨èçš„pnpm"),s(a)])])])}const E=o(c,[["render",N],["__file","npm.html.vue"]]),I=JSON.parse('{"path":"/blogs/technology/kuangjia/npm.html","title":"npm yarn pnpmåŒ…ç®¡ç†å·¥å…·æ¼”å˜å²","lang":"en-US","frontmatter":{"title":"npm yarn pnpmåŒ…ç®¡ç†å·¥å…·æ¼”å˜å²","date":"2024/09/04","tags":["æ¡†æ¶"],"categories":["æ¡†æ¶"]},"headers":[{"level":2,"title":"npm","slug":"npm","link":"#npm","children":[{"level":3,"title":"npm v2","slug":"npm-v2","link":"#npm-v2","children":[]},{"level":3,"title":"npm v3","slug":"npm-v3","link":"#npm-v3","children":[]},{"level":3,"title":"npm v5","slug":"npm-v5","link":"#npm-v5","children":[]}]},{"level":2,"title":"yarn","slug":"yarn","link":"#yarn","children":[]},{"level":2,"title":"yarn1","slug":"yarn1","link":"#yarn1","children":[]},{"level":2,"title":"yarn2","slug":"yarn2","link":"#yarn2","children":[]},{"level":2,"title":"pnpm","slug":"pnpm","link":"#pnpm","children":[]},{"level":2,"title":"npmå¸¸ç”¨æŒ‡ä»¤","slug":"npmå¸¸ç”¨æŒ‡ä»¤","link":"#npmå¸¸ç”¨æŒ‡ä»¤","children":[]},{"level":2,"title":"package.jsonå…³é”®å­—æ®µè§£æ","slug":"package-jsonå…³é”®å­—æ®µè§£æ","link":"#package-jsonå…³é”®å­—æ®µè§£æ","children":[]},{"level":2,"title":"å‚è€ƒ","slug":"å‚è€ƒ","link":"#å‚è€ƒ","children":[]}],"git":{"createdTime":1725440342000,"updatedTime":1725440342000,"contributors":[{"name":"zhuxiaoying","email":"zhuxiaoying@meituan.com","commits":1}]},"filePathRelative":"blogs/technology/æ¡†æ¶/npm.md"}');export{E as comp,I as data};

---
title: 设计模式
date: 2024/08/01
tags:
 - javascript
categories:
 - javascript
---

## 策略模式

### 定义

定义一系列的算法，把他们一个个封装起来，并且使他们可以相互替换。

### 实现

一个基于策略模式的程序至少由两部分组成。第一部分是一组策略类（可变），策略类封装了具体的算法，并负责具体的计算过程。第二个部分是环境类Context（不变），Context接受客户的请求，随后将请求委托给某一个策略类。要做到这一点，说明Context中要维持对某个策略对象的引用。

#### 例子

```js
var calculateBonus = function (performanceLevel, salary) {
    if (performanceLevel === "S") {
        return salary * 4
    }
    if (performanceLevel === "A") {
        return salary * 3
    }
    if (performanceLevel === "B") {
        return salary * 2
    }
}
calculateBonus("B", 20000) // 输出：40000
calculateBonus("S", 6000) // 输出：24000

// 策略类
var strategies = {
    S: function (salary) {
        return salary * 4
    },
    A: function (salary) {
        return salary * 3
    },
    B: function (salary) {
        return salary * 2
    },
}

//环境类
var calculateBonus = function (level, salary) {
    return strategies[level](salary)
}

// 使用
console.log(calculateBonus("S", 20000)) // 输出：80000
console.log(calculateBonus("A", 10000)) // 输出：30000
```


[设计模式](https://juejin.cn/post/7272191578826686516?searchId=2024071716564094D6BBA5E3F9A7259E15)
[设计模式](https://juejin.cn/post/7215967453929586748?searchId=2024071916370449C569B0C647F5507152#heading-2)